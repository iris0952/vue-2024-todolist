import{u as b,r as _,c as u,j as k,a as n,b as r,d as s,k as p,f as i,v as d,g as m,l as g,m as y}from"./index-DGiUeT1g.js";import{S as V,v as f}from"./SideBanner-DX1WZMma.js";import{b as x,T as P,e as U}from"./cookieHandler-vFihtQH5.js";const B={id:"signUpPage",class:"bg-yellow"},N={class:"conatiner signUpPage vhContainer"},T={class:"formControls"},q={key:0},R={key:1},S={key:2},j={key:3},E=["disabled"],M={__name:"RegisterView",setup(I){const c=b(),o=_({email:"",nickname:"",password:"",confirmPassword:""}),t=u(()=>{const a=o.value;return{email:f(a.email,"email"),nickname:!!a.nickname,password:f(a.password,"password"),confirmPassword:a.confirmPassword===a.password}}),v=u(()=>Object.values(t.value).includes(!1)),w=async()=>{try{await x.users.signup(o.value),P("success","註冊成功！"),c.push("/login")}catch(a){U(a)}};return(a,e)=>{const C=k("router-link");return n(),r("div",B,[s("div",N,[p(V),s("div",null,[s("form",T,[e[5]||(e[5]=s("h2",{class:"formControls_txt"},"註冊帳號",-1)),e[6]||(e[6]=s("label",{class:"formControls_label",for:"email"},"Email",-1)),i(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.email=l),class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:""},null,512),[[d,o.value.email]]),t.value.email?m("",!0):(n(),r("span",q,"請正確輸入 email")),e[7]||(e[7]=s("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),i(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.nickname=l),class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱"},null,512),[[d,o.value.nickname]]),t.value.nickname?m("",!0):(n(),r("span",R,"請輸入暱稱")),e[8]||(e[8]=s("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),i(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.password=l),class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:""},null,512),[[d,o.value.password]]),t.value.password?m("",!0):(n(),r("span",S,"密碼需 8 ~ 12 字元")),e[9]||(e[9]=s("label",{class:"formControls_label",for:"pwdConfirm"},"再次輸入密碼",-1)),i(s("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.confirmPassword=l),class:"formControls_input",type:"password",name:"pwdConfirm",id:"pwdConfirm",placeholder:"請再次輸入密碼",required:""},null,512),[[d,o.value.confirmPassword]]),t.value.confirmPassword?m("",!0):(n(),r("span",j,"密碼不符")),s("button",{type:"button",class:"formControls_btnSubmit",onClick:w,disabled:v.value},"註冊帳號",8,E),p(C,{to:"/login",class:"formControls_btnLink"},{default:g(()=>e[4]||(e[4]=[y("登入")])),_:1})])])])])}}};export{M as default};
